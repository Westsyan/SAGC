@import models.Tables.GeneinformationRow
@(id: String, sampleName: String, geneInfo: Seq[GeneinformationRow])
@Chinese.search.mainWithSearch("Expression Profile-SAGCRICEDB") {
    <style>
            .fixed-table-container tbody td .th-inner, .fixed-table-container thead th .th-inner {
                padding: 8px;
                line-height: 24px;
                vertical-align: top;
                overflow: hidden;
                text-overflow: ellipsis;
                font-size: 12px;
                white-space: normal;
            }

            .table > thead > tr > th, .table > tbody > tr > th, .table > tfoot > tr > th, .table > thead > tr > td, .table > tbody > tr > td, .table > tfoot > tr > td {
                padding: 8px;
                line-height: 1.42857143;
                vertical-align: top;
                border-top: 1px solid #ddd;
                font-size: 12px;
            }

            #table a {
                font-size: 12px;
            }

    </style>
    <div class="panel panel-default">
        <div class="panel-heading">
            <h3 class="panel-title"><i class="fa fa-flag"></i> 基因表达量</h3>
        </div>
        <div class="panel-body">
            <ul class="list-unstyled">

                <li><label class="label label-define label-primary">基因名:</label>
                    @for(gene <- id.split(",").map(_.trim)) {
                        <a class="gene_tag disabled btn btn-default btn-xs">@gene</a>
                    }
                </li>
                <br>
                <li><label class="label label-define label-primary">样品名:</label>
                    @for(sams <- sampleName.split(",").map(_.trim)) {
                        <a class="gene_tag disabled btn btn-default btn-xs">@sams</a>
                    }
                </li>
            </ul>
            <br><br>

            <div class="well" role="alert">
                <div id="charts"></div>
            </div>
            <button type="button" data-url="id=@id&sampleName=@sampleName" id="line" class="btn btn-primary btn-sm">
                折线图
            </button>
            <button type="button" data-url="id=@id&sampleName=@sampleName" id="heatmap" class="btn btn-success btn-sm">
                热力图
            </button>
            <button class="btn btn-info btn-sm" data-toggle="collapse" href="#showtable" aria-expanded="true" id="btn">
                折叠
            </button>

            <script>
                    $(document).ready(function () {
                        $("#btn").click(function () {
                            var b = $(this);
                            var a = $("#showtable");
                            if (a.hasClass("collapse in")) {
                                b.text('展示');
                            } else {
                                b.text('折叠');
                            }
                        })
                    })
            </script>
            <hr>

            <div class="table-responsive panel-collapse collapse in " id="showtable">
                <table class="display table table-bordered table-hover" id="table" data-pagination="true" data-search="true"
                data-page-list="[10, 25, 50, 100, all]" data-multiple-search="true"
                style="table-layout: fixed;
                    word-wrap: break-word">
                    <thead>
                        <tr>
                            <th data-field="geneId" data-sortable="true" title="Gene symbol">基因 Id</th>
                            <th data-field="Chromosome" data-sortable="true" title="Chromosome">染色体</th>
                            <th data-field="Gene_start" data-sortable="true" title="Gene_start">基因起始位置</th>
                            <th data-field="Gene_end" data-sortable="true" title="Gene_end">基因终止位置</th>
                            <th data-field="FUNC" data-sortable="true" title="Function">功能</th>
                        </tr>
                    </thead>
                </table>
            </div>
        </div>
    </div>
    <script>
            $(document).ready(function () {
                $.ajax({
                    url: "/SAGC/search/geneInfo?id=@id",
                    type: "get",
                    dataType: "json",
                    success: function (data) {
                        $('#table').bootstrapTable({
                            data: data
                        });
                    }
                });

                ExtendHighcharts();

                var url = "/SAGC/search/linear"
                linearCh(url)

                $("#line").click(function () {
                    linearCh("/SAGC/search/linear")
                });

                $("#heatmap").click(function () {
                    heatmapCh("/SAGC/search/heatmap")
                })
            })

            $(".boxPlot").click(function () {
                alert("in")
                var keyword = $(this).attr("id");
                alert(keyword)
            });

    </script>

}